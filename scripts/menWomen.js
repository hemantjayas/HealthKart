let productsMen = [
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/MuscleBlaze.jpg',
        name:'MuscleBlaze Raw Whey Isolate,  2.2 lb  Unflavoured',
        rating:4.7,
        price:1028,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600
         
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/Double-Rich-Chocolate.jpg',
        name:'ON (Optimum Nutrition) Gold Standard 100% Whey Protein,  5 lb  Double Rich Chocolate ',
        rating:4.3,
        price:4000,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600,
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/Fruit-Splash-Watermelon.jpg',
        name:'MuscleBlaze BCAA Pro,  2 Piece(s)/Pack  16 Servings  Fruit Splash & Watermelon ',
        rating:3.7,
        price:5000,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/Peanut-Butter.jpg',
        name:'MuscleBlaze Peanut Butter,  1 kg  Crunchy ',
        rating:4.1,
        price:800,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/whey.jpg',
        name:'Ultimate Nutrition Prostar 100% Whey Protein,  5.28 lb  Chocolate Creme ',
        rating:3.8,
        price:2442,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/bGreen.jpg',
        name:'bGREEN Plant Protein by MuscleBlaze,  Chocolate  2.2 lb ',
        rating:3.9,
        price:1944,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/Bold-Care-Surge-60-tablets.jpg',
        name:'Bold Care Surge,  60 tablet(s) ',
        rating:4.4,
        price:757,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600
    },
    
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/goldProtein.jpg',
        name:'MuscleBlaze Whey Gold Protein,  4.4 lb  Rich Milk Chocolate ',
        rating:4.5,
        price:4521,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600,
        trending:true
         
    },//
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/MuscleBlaze-Biozyme.jpg',
        name:'MuscleBlaze Biozyme Whey Protein,  4.4 lb  Rich Milk Chocolate ',
        rating:4.3,
        price:3200,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600,
        trending:true
         
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/MuscleTech-NitroTech.jpg',
        name:'MuscleTech NitroTech Performance Series,  4 lb  Milk Chocolate ',
        rating:4.2,
        price:4547,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600,
        trending:true
    },//
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/Myprotein-Impact.jpg',
        name:'Myprotein Impact Whey Isolate,  1.1 lb  Chocolate Smooth ',
        rating:4.1,
        price:3482,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600,
        trending:true
    },
    {
        imgflash: 'https://img10.hkrtcdn.com/react/static/media/common/variant/flash-icon.svg',
        imgheart:'https://img10.hkrtcdn.com/react/static/media/common/variant/wishlist/hover-heart.svg',
        imgProduct:'./image/Optimum-Nutrition-Serious.jpg',
        name:'ON (Optimum Nutrition) Serious Mass,  6 lb  Chocolate ',
        rating:4.5,
        price:3751,
        cartImg:"https://img2.hkrtcdn.com/react/static/media/common/new_cart.svg",
        premiumPrice:1600,
        trending:true
    },
    ]
let backgroundImages = [
    {
        image: './image/bnr_SBC1-top.jpg',
        heading: "LEAN MUSCLE MASS",
        topCategory: true 
    },
    {
        image: './image/bnr_trueBasis.jpg',
        heading: "Immunity & Well Being" ,
        topCategory: true 
    },
    {
        image: './image/bnr_Gold_SBC.jpg',
        heading: "Bulk Gainer" ,
        topCategory: true 
    },
    {
        image: './image/bnr_trueBasisGold_SBC.jpg',
        heading: "Stress & Relaxation" ,
        topCategory: true 
    },
    {
        image: './image/bnr_Slim_SBC.jpg',
        heading: "Weight Loss" ,
        topCategory: true 
    },
    {
        image: './image/bnr_Xtend.jpg',
        heading: "Muscle Recovery",
        topCategory: true  
    },
    {
        image: './image/bnr_healthPro_ESS.jpg',
        heading: "Whey Proteins",
        essentials: true  
    },
    {
        image: './image/bnr_Gainer_ESS.jpg',
        heading: "Gainers",
        essentials: true  
    },
    {
        image: './image/bnr_multivit_ESS.jpg',
        heading: "Multivitamins",
        essentials: true  
    },
    {
        image: './image/bnr_omega3_ESS.jpg',
        heading: "Omega 3",
        essentials: true  
    },
    {
        image: './image/bGreen.jpg',
        heading: "plant protein",
        essentials: true  
    },
    {
        image: './image/bnr_bcca_ESS.jpg',
        heading: "bcca",
        essentials: true  
    },
]
let productsWomen = [
    {
        imgProduct:'./image/bnr_multiVitamin.jpg',
        name:'HealthKart HK Vitals Multivitamin with Multimineral, Amino Acids, Taurine & Ginseng Extract,  60 tablet(s)  Unflavoured ',
        rating:4.5,
        price:1899,
    },
    {
        imgProduct:"./image/Vinegar.jpg",
        name:'HealthKart Apple Cider Vinegar with Mother,  0.5 L  Ginger, Garlic, Lemon & Honey ',
        rating:4.5,
        price:1899,
    },
    {
        imgProduct:"./image/bnr_haldi.jpg",
        name:'HealthKart Easy Haldi,  100 g ',
        rating:4.5,
        price:1899,
    },
    {
        imgProduct:'./image/bnr_lsopure.jpg',
        name:'Isopure Low Carb,  1 lb  Dutch Chocolate ',
        rating:4.5,
        price:1899,
    }
    ]
function appendProductForMen(homeWigCar,trend)
{
    productsMen.forEach(product => {
        let container = document.createElement('div');
        let contTip = document.createElement('div');
        let flash = document.createElement('img'); 
          flash.src = product.imgflash;
         contTip.append(flash)
         contTip.setAttribute('class','contTip') 
    
         let contMid= document.createElement('div');
         contMid.setAttribute('class','contMid');
         let imageHeartCont = document.createElement('div');
         let imageHeart = document.createElement('img');
         imageHeart.src = product.imgheart;
         imageHeartCont.append(imageHeart);
         imageHeartCont.setAttribute('class', 'logImg');
    
         let proImgCont= document.createElement('div');
         let proImage = document.createElement('img');
         proImage.src = product.imgProduct;
         proImgCont.append(proImage);
         proImgCont.setAttribute('class','middle')
         
         contMid.append(imageHeartCont,proImgCont);
    
         let bottomCont = document.createElement('div');
         
         let title = document.createElement('div');
         title.textContent = product.name;
         title.style.fontSize = '14px';
         title.style.color = '#212121'
         title.setAttribute('id','marg');
          
         let ratingCont = document.createElement('div');
         let ratingInner = document.createElement('div');
         ratingCont.setAttribute('class','rating');
         ratingInner.textContent= "Rating: "+ product.rating
         ratingCont.append(ratingInner)
         ratingInner.setAttribute('class','innerRating')
         let starPercentage = (product.rating/5)*100;
         let roundedStars = Math.round(starPercentage/10)*10
         console.log(starPercentage)
       

         let priceCont = document.createElement('div');
         priceCont.setAttribute('id','priceCont')
         let price = document.createElement('div');
         price.setAttribute('class', 'price');
         price.textContent = ' RS.'+ product.price + '/';
    
         var button = document.createElement('div');
         button.setAttribute('class','addCart');
         let cartIcon = document.createElement('img');
         let span = document.createElement('span');
         cartIcon.src = product.cartImg;
         button.append(cartIcon)
         span.textContent = "ADD"
         button.appendChild(span)
         button.onclick =()=>{
            console.log(product);
            addtoCart(product)
              span.textContent = 'CART'
              button.appendChild(cartIcon)
              cartIcon.src = 'https://img2.hkrtcdn.com/react/static/media/common/cart-arrow.svg'
              button.onclick = ()=>{
                  window.location.href = 'cart.html'
              }
         }
         priceCont.append(price,button)
         console.log(product.cartImg)
    
         let hkPriceCont = document.createElement('div');
        hkPriceCont.setAttribute('class','hk-premium-price');
        let premPrice = document.createElement('div');
        premPrice.textContent = 'Premium Price: '+ product.premiumPrice;
        hkPriceCont.append(premPrice)
        
        bottomCont.append(title,ratingCont,priceCont,hkPriceCont);
       

        container.append(contTip,contMid,bottomCont);
      console.log(trend);
        if(product['trending'] === true)
        {
            trend.appendChild(container)
        }
        else{
            homeWigCar.appendChild(container);
        }
        container.style.cursor = 'pointer'
        container.onmouseenter = function(){
            button.style.backgroundColor = 'rgb(0,194,193)'
        }
        container.onmouseleave = function(){
            button.style.backgroundColor = 'rgb(225,237,244)'
        }
    });
}

function appendBackground(topCategory,type)
{
    backgroundImages.forEach(element=>{

            let divElement = document.createElement('div')
            let title = document.createElement('h3')
            let horLine = document.createElement('div')
            divElement.style.backgroundImage = `URL('${element.image}')`;
            title.textContent = element.heading;
            title.setAttribute('class' ,'backHeadings')
            title.appendChild(horLine);
            title.style.textTransform = 'uppercase'
            horLine.setAttribute('class','horLine')
           divElement.appendChild(title);

         if(element.topCategory == true && type=='top')
         { 
            topCategory.appendChild(divElement)  
         }else if(element.essentials == true && type=='ess'){
            topCategory.appendChild(divElement)
            title.style.color ='gray'
         }   
    })
}

function appendProductForWomen(prodDesc){

    productsWomen.forEach(product =>{
        let container = document.createElement('div');
        let image = document.createElement('div');
        let proImg = document.createElement('img');
        proImg.src = product.imgProduct;
         image.setAttribute('class','imageOfPro');
         image.appendChild(proImg);

         let title = document.createElement('div');
         let reviewStars = document.createElement('div');
         let prise = document.createElement('div');
         title.textContent = product.name;
         title.setAttribute('class',"title")

         reviewStars.textContent = "Rating: " +product.rating;
         reviewStars.setAttribute('class', 'reviewStars')

         prise.textContent = 'Rs. '+ product.price;
         prise.setAttribute('class','price')

         container.append(image,title,reviewStars,prise)

         prodDesc.appendChild(container)
     })   
}

function addtoCart(product) {
    
    if (localStorage.getItem("healthkart_cart") === null) {
        localStorage.setItem("healthkart_cart", JSON.stringify([]));
    }
    let array = JSON.parse(localStorage.getItem("healthkart_cart"));
    let present  = false;

      array.forEach((pro)=>{
        if(pro.name == product.name)
        {  
            pro["quantity"]++;
            present = true;
        }
     })
   if(present)
   {
    localStorage.setItem("healthkart_cart", JSON.stringify(array));
   }else{
      product["quantity"] = 1;
      array.push(product);
      localStorage.setItem("healthkart_cart", JSON.stringify(array));
   }
}

function addScripts(){

  var homeWigCar = document.getElementById('home-widgit-carousel');
  var trend = document.getElementById("trending");
  var topCat = document.getElementById("top-Categories");
  var essential = document.getElementById("essentials");
  let tc = 'top', ess = 'ess';
  appendProductForMen(homeWigCar,trend)
  appendBackground(topCat,tc)
  appendBackground(essential,ess)

var i =0;
  let slide = document.getElementById('slider')
   let btn1 = document.getElementById('btn1')
   let btn2 = document.getElementById('btn2')
   let btn3 = document.getElementById('btn3')
   let btn4 = document.getElementById('btn4')

   let interval =setInterval(translate, 4000)
   let arr = ["0px","-100%","-200%","-300%"]
   function translate(){
       if(i==4)
       {
           clearInterval(interval)
       }
      slide.style.transform = `translateX(${arr[i]})`
      i++;
   }
     btn1.onclick =() =>{
         slide.style.transform = 'translateX(0px)'
         btn1.classList.add('active')
         btn2.classList.remove('active')
         btn3.classList.remove('active')
         btn4.classList.remove('active')
     }
     btn2.onclick =() =>{
         slide.style.transform = 'translateX(-100%)'
         btn2.classList.add('active')
         btn1.classList.remove('active')
         btn3.classList.remove('active')
         btn4.classList.remove('active')
     }
     btn3.onclick =() =>{
         slide.style.transform = 'translateX(-200%)'
         btn3.classList.add('active')
         btn2.classList.remove('active')
         btn1.classList.remove('active')
         btn4.classList.remove('active')
     }
     btn4.onclick =() =>{
         slide.style.transform = 'translateX(-300%)'
         btn4.classList.add('active')
         btn2.classList.remove('active')
         btn3.classList.remove('active')
         btn1.classList.remove('active')
     }
}

function appendProducts(products_cont,valueSort){
    
   let proMEN =  sortBy(productsMen,valueSort);
   console.log(proMEN);
      proMEN.forEach(pro=>{
        
            let container = document.createElement('div');
            let discount = document.createElement('div');
            discount.textContent= Math.floor((Math.random() * 70) + 5) +"% off";
            discount.setAttribute('class',"discount")
            
            let name = document.createElement('div');
             name.textContent = pro.name;
             name.style.textAlign = 'center'
             name.style.fontSize = '14px'
             name.style.color = 'grey'

            let img_Cont = document.createElement('div');
            let image = document.createElement('img')
            image.src = pro.imgProduct;
            image.style.width = '190px'
            image.style.height='190px'
            img_Cont.setAttribute('class',"img_Cont")
            img_Cont.appendChild(image)
 
            let rating =  document.createElement('div');
            rating.textContent = "Rating: "+ pro.rating;
            rating.setAttribute('class','rating_text')
            
            let price_quickBuy = document.createElement('div');
            price_quickBuy.style.display = 'flex'
            price_quickBuy.style.marginLeft = '5px'
            price_quickBuy.style.alignItems = 'center'
            let price = document.createElement('div');
            price.textContent = "₹"+ pro.price;
            price.setAttribute('class',"price_Pro")
            
            let quickBuy = document.createElement('button');
            quickBuy.setAttribute('class','quick_btn');
            let image_buy = document.createElement('img')
            image_buy.src ='https://static1.hkrtcdn.com/hknext/static/media/pdp/thunder-buy.svg'
            let txt = document.createElement('span')
            txt.textContent = 'Quick Buy'
            quickBuy.onclick = ()=>
            {
                addtoCart(pro)
                window.location.href ='cart.html'
            }
            quickBuy.append(image_buy,txt)
            
            price_quickBuy.append(price,quickBuy)
            container.append(discount,img_Cont,name,rating,price_quickBuy)
            products_cont.appendChild(container)
      })
}

function sortBy(products,value)
{
    console.log(value);
    if(value == '')
    {
        return products;
    }
  else if(value == 'ltoH'|| value=='htoL')
  {
    for(let i = 0; i<products.length; i++)
    {
      for(let j = 0; j<products.length-i-1; j++)
      {
          if(products[j].price > products[j+1].price)
          {
              let temp = products[j]
              products[j] = products[j+1]
              products[j+1] = temp;
          }
      }
    }
    if(value == 'htoL')
    {
        return products.reverse()
    }else if(value == 'ltoH')
    {
        return products;
    }
  }else if(value == 'r_ltoH'||value == 'r_htoL')
  {
    for(let i = 0; i<products.length; i++)
    {
      for(let j = 0; j<products.length-i-1; j++)
      {
          if(products[j].rating > products[j+1].rating)
          {
              let temp = products[j]
              products[j] = products[j+1]
              products[j+1] = temp;
          }
      }
    }
    if(value == 'r_htoL')
    {
        return products.reverse()
    }else if(value == 'r_ltoH')
    {
        return products;
    }
  }
}

export {appendProductForMen ,appendBackground ,appendProductForWomen,addScripts,appendProducts}